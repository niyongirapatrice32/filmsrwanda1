const express = require('express');
const app = express();

app.post('/api/referral', async (req, res) => {
  const { referrerId, referredUserId } = req.body;
  // Verify referred user has deposited
  const deposited = await checkDeposit(referredUserId);
  if (deposited) {
    await creditBalance(referrerId, 1.40);
    res.json({ success: true, reward: 1.40 });
  } else {
    res.status(400).json({ error: 'No deposit made' });
  }
});

app.listen(3000, () => console.log('Server running'));app.postconst axios = require('axios');

async function createBinancePayOrder(userId, amount) {
  const response = await axios.post('https://api.binance.com/pay/v1/order', {
    merchantId: 'YOUR_MERCHANT_ID',
    amount: amount,
    currency: 'USDT',
    userId: userId,
  }, {
    headers: {
      'Authorization': 'Bearer YOUR_API_KEY'
    }
  });
  return response.data.qrCode;
}https://api.binance.com/pay/v1/order
